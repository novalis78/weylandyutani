---
const currentPath = Astro.url.pathname;
---

<header class="fixed top-0 left-0 right-0 z-50 bg-black border-b-4 border-[#FFC600]">
  <div class="hazard-stripes h-2"></div>

  <nav class="container mx-auto px-6 py-4">
    <div class="flex items-center justify-between">
      <!-- Logo -->
      <a href="/" class="flex items-center space-x-4 group">
        <div class="relative">
          <div class="w-14 h-14 bg-[#FFC600] clip-corner flex items-center justify-center glow-yellow">
            <span class="text-black font-black text-2xl">W</span>
          </div>
          <div class="absolute -bottom-1 -right-1 w-8 h-8 bg-black border-2 border-[#FFC600] clip-corner flex items-center justify-center">
            <span class="text-[#FFC600] font-black text-sm">Y</span>
          </div>
        </div>
        <div class="flex flex-col">
          <span class="text-xl font-black text-white tracking-tighter">WEYLAND-YUTANI</span>
          <span class="text-xs text-[#FFC600] font-bold tracking-widest">"BUILDING BETTER WORLDS"</span>
        </div>
      </a>

      <!-- Desktop Navigation -->
      <ul class="hidden lg:flex items-center space-x-1">
        <li>
          <a
            href="/"
            class={`px-6 py-3 text-sm font-bold uppercase tracking-wider transition-all ${currentPath === '/' ? 'bg-[#FFC600] text-black' : 'text-white hover:bg-[#FFC600]/10 hover:text-[#FFC600]'}`}
          >
            Home
          </a>
        </li>
        <li>
          <a
            href="/about"
            class={`px-6 py-3 text-sm font-bold uppercase tracking-wider transition-all ${currentPath === '/about' ? 'bg-[#FFC600] text-black' : 'text-white hover:bg-[#FFC600]/10 hover:text-[#FFC600]'}`}
          >
            About
          </a>
        </li>
        <li>
          <a
            href="/divisions"
            class={`px-6 py-3 text-sm font-bold uppercase tracking-wider transition-all ${currentPath === '/divisions' ? 'bg-[#FFC600] text-black' : 'text-white hover:bg-[#FFC600]/10 hover:text-[#FFC600]'}`}
          >
            Divisions
          </a>
        </li>
        <li>
          <a
            href="/technology"
            class={`px-6 py-3 text-sm font-bold uppercase tracking-wider transition-all ${currentPath === '/technology' ? 'bg-[#FFC600] text-black' : 'text-white hover:bg-[#FFC600]/10 hover:text-[#FFC600]'}`}
          >
            Technology
          </a>
        </li>
        <li>
          <a
            href="/careers"
            class={`px-6 py-3 text-sm font-bold uppercase tracking-wider transition-all ${currentPath === '/careers' ? 'bg-[#FFC600] text-black' : 'text-white hover:bg-[#FFC600]/10 hover:text-[#FFC600]'}`}
          >
            Careers
          </a>
        </li>
        <li>
          <a
            href="/contact"
            class="ml-4 px-8 py-3 bg-[#FFC600] text-black text-sm font-black uppercase tracking-wider clip-corner hover:glow-yellow transition-all"
          >
            Contact
          </a>
        </li>
      </ul>

      <!-- Mobile Menu Button -->
      <button
        id="mobile-menu-button"
        class="lg:hidden text-[#FFC600] p-2 border-2 border-[#FFC600] clip-corner hover:bg-[#FFC600]/10"
        aria-label="Toggle menu"
      >
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="square" stroke-linejoin="miter" stroke-width="3" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden lg:hidden mt-6 pb-4 border-t-2 border-[#FFC600]/20">
      <ul class="flex flex-col space-y-2 mt-4">
        <li>
          <a href="/" class="block px-4 py-3 text-sm font-bold uppercase tracking-wider text-white hover:bg-[#FFC600]/10 hover:text-[#FFC600] transition-all">
            Home
          </a>
        </li>
        <li>
          <a href="/about" class="block px-4 py-3 text-sm font-bold uppercase tracking-wider text-white hover:bg-[#FFC600]/10 hover:text-[#FFC600] transition-all">
            About
          </a>
        </li>
        <li>
          <a href="/divisions" class="block px-4 py-3 text-sm font-bold uppercase tracking-wider text-white hover:bg-[#FFC600]/10 hover:text-[#FFC600] transition-all">
            Divisions
          </a>
        </li>
        <li>
          <a href="/technology" class="block px-4 py-3 text-sm font-bold uppercase tracking-wider text-white hover:bg-[#FFC600]/10 hover:text-[#FFC600] transition-all">
            Technology
          </a>
        </li>
        <li>
          <a href="/careers" class="block px-4 py-3 text-sm font-bold uppercase tracking-wider text-white hover:bg-[#FFC600]/10 hover:text-[#FFC600] transition-all">
            Careers
          </a>
        </li>
        <li>
          <a href="/contact" class="block px-4 py-3 bg-[#FFC600] text-black text-sm font-black uppercase tracking-wider text-center clip-corner">
            Contact
          </a>
        </li>
      </ul>
    </div>
  </nav>
</header>

<script>
  const button = document.getElementById('mobile-menu-button');
  const menu = document.getElementById('mobile-menu');

  button?.addEventListener('click', () => {
    menu?.classList.toggle('hidden');
  });
</script>

<style>
  .clip-corner {
    clip-path: polygon(8px 0, 100% 0, 100% calc(100% - 8px), calc(100% - 8px) 100%, 0 100%, 0 8px);
  }
</style>
